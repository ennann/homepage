---
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const projects = [
    {
        title: "FrameFlow",
        desc: "AI-Driven Video Creation Platform",
        sub: "Designed and built with a product mindset and AI-first workflow.",
        color: "bg-blue-50/80 dark:bg-[rgba(80,131,255,0.12)]",
        link: "https://framingflow.com",
    },
    {
        title: "PowerFlow (macOS/iOS)",
        desc: "Device Intelligence Toolkit",
        sub: "Driven by SwiftUI craftsmanship + applied AI insights.",
        color: "bg-indigo-50/80 dark:bg-[rgba(99,102,241,0.12)]",
        // link: "https://powerflow.app",
    },
    {
        title: "App Store Price",
        desc: "Globally Compare App Price",
        sub: "Real-time tracking of global App Store pricing to help developers optimize strategies and users find value.",
        color: "bg-purple-50/80 dark:bg-[rgba(139,92,246,0.12)]",
        link: "https://appstoreprice.org",
    },
    {
        title: "Feishu aPaaS Solutions",
        desc: "Retail Process Digitalization",
        sub: "Applied AI + workflow design + enterprise-grade architecture.",
        color: "bg-orange-50/80 dark:bg-[rgba(255,159,67,0.12)]",
    },
];
---

<section id="projects" class="py-16 px-4 max-w-4xl mx-auto">
    <div class="text-center mb-12">
        <h2 class="text-3xl font-bold mb-2 dark:text-white">{t("projects.title")}</h2>
        <p class="text-[var(--muted-text)]">{t("projects.subtitle")}</p>
    </div>

    <div class="grid gap-6 md:grid-cols-2">
        {
            projects.map((project) =>
                project.link ? (
                    <a
                        href={project.link}
                        target="_blank"
                        class="relative block p-6 rounded-xl border border-[var(--border-subtle)] hover:shadow-md transition bg-[var(--panel-bg)] hover:-translate-y-1 overflow-hidden"
                    >
                        <div class={`pointer-events-none absolute inset-0 rounded-xl opacity-70 dark:opacity-60 ${project.color}`}></div>
                        <div class="relative">
                            <h3 class="text-xl font-bold mb-2 dark:text-white">{project.title}</h3>
                            <p class="font-semibold text-gray-800 dark:text-gray-100 mb-2">{project.desc}</p>
                            <p class="text-sm text-[var(--muted-text)] italic">{project.sub}</p>
                        </div>
                    </a>
                ) : (
                    <div class="relative p-6 rounded-xl border border-[var(--border-subtle)] hover:shadow-md transition bg-[var(--panel-bg)] overflow-hidden">
                        <div class={`pointer-events-none absolute inset-0 rounded-xl opacity-70 dark:opacity-60 ${project.color}`}></div>
                        <div class="relative">
                            <h3 class="text-xl font-bold mb-2 dark:text-white">{project.title}</h3>
                            <p class="font-semibold text-gray-800 dark:text-gray-100 mb-2">{project.desc}</p>
                            <p class="text-sm text-[var(--muted-text)] italic">{project.sub}</p>
                        </div>
                    </div>
                ),
            )
        }
    </div>
</section>
